<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/Memo.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Memo[K, V] extends java.lang.Object" id="11895">Memo</a>[<a title="&gt;: Nothing &lt;: Any" id="17232">K</a>, <a title="&gt;: Nothing &lt;: Any" id="17233">V</a>] <a title="java.lang.Object" id="2746">{</a>
  <span class="keyword">def</span> <a title="(z: (K) =&gt; V)(K) =&gt; V" id="110784">apply</a>(<a title="(K) =&gt; V" id="110785">z</a>: K =&gt; V): K =&gt; V
}

<span class="keyword">trait</span> <a title="trait Memos extends java.lang.Object with ScalaObject" id="11928">Memos</a> <a title="ScalaObject" id="1445">{</a>
  <span class="keyword">def</span> <a title="[K, V](f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]" id="24467">memo</a>[<a title="&gt;: Nothing &lt;: Any" id="24470">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24471">V</a>](<a title="((K) =&gt; V) =&gt; (K) =&gt; V" id="193861">f</a>: (K =&gt; V) =&gt; K =&gt; V): <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = <a href="#193864" title="java.lang.Object with scalaz.Memo[K,V]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Memo[K,V]" id="193864">Memo</a>[K, V] {
    <span class="keyword">def</span> <a title="(z: (K) =&gt; V)(K) =&gt; V" id="193868">apply</a>(<a title="(K) =&gt; V" id="193869">z</a>: K =&gt; V) = <a href="#193861" title="(v1: (K) =&gt; V)(K) =&gt; V">f</a>(<a href="#193869" title="(K) =&gt; V">z</a>)
  }

  <span class="keyword">def</span> <a title="[K, V]scalaz.Memo[K,V]" id="24472">nilMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24475">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24476">V</a>]: <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = <a href="#24467" title="[K, V](f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">memo</a><span title="(f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">[</span><a href="#24475" title="K">K</a>, <a href="#24476" title="V">V</a>](<a title="(K) =&gt; V" id="193883">z</a> =&gt; <a href="#193883" title="(K) =&gt; V">z</a>)

  <span class="keyword">def</span> <a title="[V](n: Int)(implicit evidence$1: Manifest[V])scalaz.Memo[Int,V]" id="193886">arrayMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24479">V</a>: Manifest](<a title="Int" id="193885">n</a>: <span title="Int">Int</span>): <a href="#11895" title="scalaz.Memo[Int,V]">Memo</a>[Int, V] = {
    <span class="keyword">val</span> <a title="Array[V]" id="193889">a</a> = <a href="#193886" title="(len: Int)Array[V]" id="83582" class="keyword">new</a> Array[V](<a href="#193885" title="Int">n</a>)

    <a href="#24467" title="[K, V](f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">memo</a><span title="(f: ((Int) =&gt; V) =&gt; (Int) =&gt; V)scalaz.Memo[Int,V]">[</span><span title="Int">Int</span>, <a href="#24479" title="V">V</a>](<a title="(Int) =&gt; V" id="193897">f</a> =&gt;
      <a title="Int" id="193899">k</a> =&gt; {
        <span class="keyword">val</span> <a title="V" id="193900">t</a> = <a href="#193889" title="(i: Int)V" id="22389">a</a>(<a href="#193899" title="Int">k</a>)
        <span title="V" class="keyword">if</span> (<a href="#193900" title="(x$1: Any)Boolean" id="5787">t</a> == <span title="Null(null)" class="keyword">null</span>) {
          <span class="keyword">val</span> <a title="V" id="193903">v</a> = <a href="#193897" title="(v1: Int)V">f</a>(<a href="#193899" title="Int">k</a>)
          <a href="#193889" title="(i: Int,x: V)Unit" id="22391">a</a>(<a href="#193899" title="Int">k</a>) = <a href="#193903" title="V">v</a>
          <a href="#193903" title="V">v</a>
        } <span class="keyword">else</span> <a href="#193900" title="V">t</a>
      })
  }

  <span class="keyword">def</span> <a title="[K, V]scalaz.Memo[K,V]" id="24480">mutableHashMapMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24483">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24484">V</a>]: <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = {
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[K,V]" id="193910">a</a> = <span title="scala.collection.mutable.HashMap[K,V]" class="keyword">new</span> collection.mutable.<a title="scala.collection.mutable.HashMap[K,V]" id="30837">HashMap</a>[K, V]

    <a href="#24467" title="[K, V](f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">memo</a><span title="(f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">[</span><a href="#24483" title="K">K</a>, <a href="#24484" title="V">V</a>](<a title="(K) =&gt; V" id="194114">f</a> =&gt;
      <a title="K" id="194116">k</a> =&gt;
        <a href="#193910" title="(key: K)Option[V]" id="193918">a</a> <span title="(default: =&gt; V)V">get</span> <a href="#194116" title="K">k</a> getOrElse {
          <span class="keyword">val</span> <a title="V" id="194124">v</a> = <a href="#194114" title="(v1: K)V">f</a>(<a href="#194116" title="K">k</a>)
          <a href="#193910" title="(key: K,value: V)Unit" id="193923">a</a> update (<a href="#194116" title="K">k</a>, <a href="#194124" title="V">v</a>)
          <a href="#194124" title="V">v</a>
        })
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K, V](m: Map[K,V])scalaz.Memo[K,V]" id="24485">immutableMapMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24488">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24489">V</a>](<a title="Map[K,V]" id="194135">m</a>: <a title="Map[K,V]" id="21279">Map</a>[K, V]): <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = {
    <span class="keyword">var</span> <a title="Map[K,V]" id="194138">a</a> = <a href="#194135" title="Map[K,V]">m</a>

    <a href="#24467" title="[K, V](f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">memo</a><span title="(f: ((K) =&gt; V) =&gt; (K) =&gt; V)scalaz.Memo[K,V]">[</span><a href="#24488" title="K">K</a>, <a href="#24489" title="V">V</a>](<a title="(K) =&gt; V" id="194141">f</a> =&gt;
      <a title="K" id="194143">k</a> =&gt; {
        <a href="#194138" title="(key: K)Option[V]" id="86439">a</a> <span title="(default: =&gt; V)V">get</span> <a href="#194143" title="K">k</a> getOrElse {
          <span class="keyword">val</span> <a title="V" id="194150">v</a> = <a href="#194141" title="(v1: K)V">f</a>(<a href="#194143" title="K">k</a>)
          <a href="#194138" title="Map[K,V]">a</a> = <a href="#194138" title="(key: K,value: V)scala.collection.immutable.Map[K,V]" id="86530">a</a> updated (<a href="#194143" title="K">k</a>, <a href="#194150" title="V">v</a>)
          <a href="#194150" title="V">v</a>
        }
      })
  }

  <span class="keyword">import</span> collection.immutable.{HashMap, ListMap, TreeMap}

  <span class="keyword">def</span> <a title="[K, V]scalaz.Memo[K,V]" id="24491">immutableHashMapMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24494">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24495">V</a>]: <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = <a href="#24485" title="(m: Map[K,V])scalaz.Memo[K,V]">immutableMapMemo</a>(<span title="scala.collection.immutable.HashMap[K,V]" class="keyword">new</span> <a title="scala.collection.immutable.HashMap[K,V]" id="21708">HashMap</a>[K, V])

  <span class="keyword">def</span> <a title="[K, V]scalaz.Memo[K,V]" id="24496">immutableListMapMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="24499">K</a>, <a title="&gt;: Nothing &lt;: Any" id="24500">V</a>]: <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = <a href="#24485" title="(m: Map[K,V])scalaz.Memo[K,V]">immutableMapMemo</a>(<span title="scala.collection.immutable.ListMap[K,V]" class="keyword">new</span> <a title="scala.collection.immutable.ListMap[K,V]" id="21717">ListMap</a>[K, V])

  <span class="keyword">def</span> <a title="[K &lt;: Ordered[K], V]scalaz.Memo[K,V]" id="24501">immutableTreeMapMemo</a>[<a title="&gt;: Nothing &lt;: Ordered[K]" id="24504">K</a> &lt;: Ordered[K], <a title="&gt;: Nothing &lt;: Any" id="24505">V</a>]: <a href="#11895" title="scalaz.Memo[K,V]">Memo</a>[K, V] = <a href="#24485" title="(m: Map[K,V])scalaz.Memo[K,V]">immutableMapMemo</a>(<a title="()(implicit ordering: Ordering[K])scala.collection.immutable.TreeMap[K,V]" id="29017" class="keyword">new</a> <a title="scala.collection.immutable.TreeMap[K,V]" id="21294">TreeMap</a>[K, V])
}

        </pre>
    </body>
</html>