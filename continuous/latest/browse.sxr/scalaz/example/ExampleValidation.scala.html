<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/example/ExampleValidation.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz.example

<span class="keyword">import</span> scalaz._

<span class="keyword">import</span> _root_.java.lang.String
<span class="keyword">import</span> collection.immutable.List
<span class="keyword">import</span> collection.Traversable

<span class="keyword">object</span> <a title="object scalaz.example.ExampleValidation" id="14291">ExampleValidation</a> <span title="ScalaObject">{</span>
  <span class="keyword">def</span> <a title="(args: Array[java.lang.String])Unit" id="23357">main</a>(<a title="Array[java.lang.String]" id="206652">args</a>: <a title="Array[java.lang.String]" id="1323">Array</a>[String]) = <a href="#23359" title="=&gt; Unit">run</a>

  <span class="keyword">import</span> Scalaz._

  <span class="keyword">def</span> <a title="=&gt; Unit" id="23359">run</a> {
    // Constructing Validations
    <a href="../Validation.scala.html#24276" title="[E, A](e: E)scalaz.Validation[E,A]">failure</a><span title="(e: java.lang.String)scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>, <span title="Int">Int</span>]<a href="../Identity.scala.html#27747" title="(b: scalaz.Validation[java.lang.String,Int])(implicit e: scalaz.Equal[scalaz.Validation[java.lang.String,Int]],implicit s: scalaz.Show[scalaz.Validation[java.lang.String,Int]],implicit ev: &lt;:&lt;[scalaz.Validation[java.lang.String,Int],scalaz.Validation[java.lang.String,Int]])Unit">(</a><span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[java.lang.String],implicit evidence$41: scalaz.Equal[Int])scalaz.Equal[scalaz.Validation[java.lang.String,Int]]">assert_≟</a> <a href="../Identity.scala.html#24056" title="(x: java.lang.String)scalaz.Identity[java.lang.String]" class="string">&quot;error&quot;</a>.<a href="../Identity.scala.html#27811" title="[X]scalaz.Validation[java.lang.String,X]">fail</a><span title="scalaz.Validation[java.lang.String,Int]">[</span><span title="Int">Int</span>]
    <a href="../Validation.scala.html#24271" title="[E, A](a: A)scalaz.Validation[E,A]">success</a><span title="(a: Int)scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>, <span title="Int">Int</span>]<a href="../Identity.scala.html#27747" title="(b: scalaz.Validation[java.lang.String,Int])(implicit e: scalaz.Equal[scalaz.Validation[java.lang.String,Int]],implicit s: scalaz.Show[scalaz.Validation[java.lang.String,Int]],implicit ev: &lt;:&lt;[scalaz.Validation[java.lang.String,Int],scalaz.Validation[java.lang.String,Int]])Unit">(</a><span title="Int(0)" class="int">0</span>) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[java.lang.String],implicit evidence$41: scalaz.Equal[Int])scalaz.Equal[scalaz.Validation[java.lang.String,Int]]">assert_≟</a> <a href="../Identity.scala.html#24056" title="(x: Int)scalaz.Identity[Int]" class="int">0</a>.<a href="../Identity.scala.html#27805" title="[X]scalaz.Validation[X,Int]">success</a><span title="scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>]
    <a href="../Validation.scala.html#24281" title="[E, A](e: Either[E,A])scalaz.Validation[E,A]">validation</a><span title="(e: Either[java.lang.String,Int])scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>, <span title="Int">Int</span>]<a href="../Identity.scala.html#27747" title="(b: scalaz.Validation[java.lang.String,Int])(implicit e: scalaz.Equal[scalaz.Validation[java.lang.String,Int]],implicit s: scalaz.Show[scalaz.Validation[java.lang.String,Int]],implicit ev: &lt;:&lt;[scalaz.Validation[java.lang.String,Int],scalaz.Validation[java.lang.String,Int]])Unit">(</a><a title="(a: java.lang.String)Left[java.lang.String,Nothing]" id="1237">Left</a>(<span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>)) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[java.lang.String],implicit evidence$41: scalaz.Equal[Int])scalaz.Equal[scalaz.Validation[java.lang.String,Int]]">assert_≟</a> <a href="../Identity.scala.html#24056" title="(x: java.lang.String)scalaz.Identity[java.lang.String]" class="string">&quot;error&quot;</a>.<a href="../Identity.scala.html#27811" title="[X]scalaz.Validation[java.lang.String,X]">fail</a><span title="scalaz.Validation[java.lang.String,Int]">[</span><span title="Int">Int</span>]
    <a href="../Validation.scala.html#24281" title="[E, A](e: Either[E,A])scalaz.Validation[E,A]">validation</a><span title="(e: Either[java.lang.String,Int])scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>, <span title="Int">Int</span>]<a href="../Identity.scala.html#27747" title="(b: scalaz.Validation[java.lang.String,Int])(implicit e: scalaz.Equal[scalaz.Validation[java.lang.String,Int]],implicit s: scalaz.Show[scalaz.Validation[java.lang.String,Int]],implicit ev: &lt;:&lt;[scalaz.Validation[java.lang.String,Int],scalaz.Validation[java.lang.String,Int]])Unit">(</a><a title="(b: Int)Right[Nothing,Int]" id="916">Right</a>(<span title="Int(0)" class="int">0</span>)) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[java.lang.String],implicit evidence$41: scalaz.Equal[Int])scalaz.Equal[scalaz.Validation[java.lang.String,Int]]">assert_≟</a> <a href="../Identity.scala.html#24056" title="(x: Int)scalaz.Identity[Int]" class="int">0</a>.<a href="../Identity.scala.html#27805" title="[X]scalaz.Validation[X,Int]">success</a><span title="scalaz.Validation[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>]

    // Extracting success or failure values
    <span class="keyword">val</span> <a title="scalaz.Validation[java.lang.String,Int]" id="206655">s</a>: <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,Int]">Validation</a>[String, Int] = <a href="../Identity.scala.html#24056" title="(x: Int)scalaz.Identity[Int]" class="int">1</a>.<a href="../Identity.scala.html#27805" title="scalaz.Validation[Nothing,Int]">success</a>
    <span class="keyword">val</span> <a title="scalaz.Validation[java.lang.String,Int]" id="206656">f</a>: <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,Int]">Validation</a>[String, Int] = <a href="../Identity.scala.html#24056" title="(x: java.lang.String)scalaz.Identity[java.lang.String]" class="string">&quot;error&quot;</a>.<a href="../Identity.scala.html#27811" title="scalaz.Validation[java.lang.String,Nothing]">fail</a>
    <a href="#206655" title="scalaz.Validation[java.lang.String,Int]">s</a>.<a href="../Identity.scala.html#27747" title="(b: Option[Int])(implicit e: scalaz.Equal[Option[Int]],implicit s: scalaz.Show[Option[Int]],implicit ev: &lt;:&lt;[Option[Int],Option[Int]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[Int])scalaz.Equal[Option[Int]]">assert_≟</a> <a href="../OptionW.scala.html#24191" title="(a: Int)Option[Int]">some</a>(<span title="Int(1)" class="int">1</span>)
    <a href="#206655" title="scalaz.Validation[java.lang.String,Int]">s</a>.<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[java.lang.String,Int]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Option[java.lang.String])(implicit e: scalaz.Equal[Option[java.lang.String]],implicit s: scalaz.Show[Option[java.lang.String]],implicit ev: &lt;:&lt;[Option[java.lang.String],Option[java.lang.String]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[java.lang.String])scalaz.Equal[Option[java.lang.String]]">assert_≟</a> <a href="../OptionW.scala.html#24194" title="[A]Option[A]">none</a><span title="Option[java.lang.String]">[</span><span title="java.lang.String">String</span>]
    <a href="#206656" title="scalaz.Validation[java.lang.String,Int]">f</a>.<a href="../Identity.scala.html#27747" title="(b: Option[Int])(implicit e: scalaz.Equal[Option[Int]],implicit s: scalaz.Show[Option[Int]],implicit ev: &lt;:&lt;[Option[Int],Option[Int]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[Int])scalaz.Equal[Option[Int]]">assert_≟</a> <a href="../OptionW.scala.html#24194" title="[A]Option[A]">none</a><span title="Option[Int]">[</span><span title="Int">Int</span>]
    <a href="#206656" title="scalaz.Validation[java.lang.String,Int]">f</a>.<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[java.lang.String,Int]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Option[java.lang.String])(implicit e: scalaz.Equal[Option[java.lang.String]],implicit s: scalaz.Show[Option[java.lang.String]],implicit ev: &lt;:&lt;[Option[java.lang.String],Option[java.lang.String]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[java.lang.String])scalaz.Equal[Option[java.lang.String]]">assert_≟</a> <a href="../OptionW.scala.html#24191" title="(a: java.lang.String)Option[java.lang.String]">some</a>(<span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>)

    // It is recommended to use fold rather than pattern matching:
    <span class="keyword">val</span> <a title="java.lang.String" id="206657">result</a>: <span title="java.lang.String">String</span> = <a href="#206655" title="scalaz.Validation[java.lang.String,Int]">s</a>.<a href="../Validation.scala.html#25119" title="(e: (java.lang.String) =&gt; java.lang.String,a: (Int) =&gt; java.lang.String)java.lang.String">fold</a>(<a title="java.lang.String" id="209528">e</a> =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;got error: &quot;</span> + <a href="#209528" title="java.lang.String">e</a>, <a title="Int" id="209531">s</a> =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;got success: &quot;</span> + <a href="#209531" title="Int">s</a>.<span title="()java.lang.String">toString</span>)

    <a href="#206655" title="scalaz.Validation[java.lang.String,Int]">s</a> <span title="java.lang.String" class="keyword">match</span> {
      <span title="java.lang.String(&quot;success&quot;)" class="keyword">case</span> Success(<a title="Int" id="209538">a</a>) =&gt; <span title="java.lang.String(&quot;success&quot;)" class="string">&quot;success&quot;</span>
      <span title="java.lang.String(&quot;fail&quot;)" class="keyword">case</span> Failure(<a title="java.lang.String" id="209541">e</a>) =&gt; <span title="java.lang.String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span>
    }

    // Validation#| is analogous to Option#getOrElse
    <a href="../Identity.scala.html#27747" title="(b: Int)(implicit e: scalaz.Equal[Int],implicit s: scalaz.Show[Int],implicit ev: &lt;:&lt;[Int,Int])Unit">(</a><a href="../Validation.scala.html#25141" title="(f: =&gt; Int)Int">f</a> <a href="../Identity.scala.html#24056" title="(x: Int)scalaz.Identity[Int]">|</a> <span title="Int(1)" class="int">1</span>) <a href="../Equal.scala.html#38137" title="=&gt; scalaz.Equal[Int]">assert_≟</a> <span title="Int(1)" class="int">1</span>

    // Validation is a Monad, and can be used in for comprehensions.
    <span class="keyword">val</span> <a title="scalaz.Validation[java.lang.String,Int]" id="206658">k1</a> = <span class="keyword">for</span> {
      <a title="Int" id="209818">i</a> &lt;- <a href="../MA.scala.html#24754" title="(f: (Int) =&gt; scalaz.Validation[java.lang.String,Int])(implicit b: scalaz.Bind[[B]scalaz.Validation[java.lang.String,B]])scalaz.Validation[java.lang.String,Int]">s</a>
      <a title="Int" id="209924">j</a> &lt;- <a href="../MA.scala.html#24652" title="(f: (Int) =&gt; Int)(implicit t: scalaz.Functor[[B]scalaz.Validation[java.lang.String,B]])scalaz.Validation[java.lang.String,Int]">s</a>
    } <span class="keyword">yield</span> <a href="#209818" title="(x$1: Int)Int">i</a> + <a href="#209924" title="Int">j</a>
    <a href="#206658" title="scalaz.Validation[java.lang.String,Int]">k1</a>.<a href="../Identity.scala.html#27747" title="(b: Some[Int])(implicit e: scalaz.Equal[Option[Int]],implicit s: scalaz.Show[Option[Int]],implicit ev: &lt;:&lt;[Some[Int],Option[Int]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[Int])scalaz.Equal[Option[Int]]">assert_≟</a> <span title="(x: Int)Some[Int]">Some</span>(<span title="Int(2)" class="int">2</span>)

    // The first failing sub-computation fails the entire computation.
    <span class="keyword">val</span> <a title="scalaz.Validation[java.lang.String,Int]" id="206659">k2</a> = <span class="keyword">for</span> {
      <a title="Int" id="210520">i</a> &lt;- <a href="../MA.scala.html#24754" title="(f: (Int) =&gt; scalaz.Validation[java.lang.String,Int])(implicit b: scalaz.Bind[[B]scalaz.Validation[java.lang.String,B]])scalaz.Validation[java.lang.String,Int]">f</a>
      <a title="Int" id="210624">j</a> &lt;- <a href="../MA.scala.html#24652" title="(f: (Int) =&gt; Int)(implicit t: scalaz.Functor[[B]scalaz.Validation[java.lang.String,B]])scalaz.Validation[java.lang.String,Int]">f</a>
    } <span class="keyword">yield</span> <a href="#210520" title="(x$1: Int)Int">i</a> + <a href="#210624" title="Int">j</a>
    <a href="#206659" title="scalaz.Validation[java.lang.String,Int]">k2</a>.<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[java.lang.String,Int]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Some[java.lang.String])(implicit e: scalaz.Equal[Option[java.lang.String]],implicit s: scalaz.Show[Option[java.lang.String]],implicit ev: &lt;:&lt;[Some[java.lang.String],Option[java.lang.String]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[java.lang.String])scalaz.Equal[Option[java.lang.String]]">assert_≟</a> <span title="(x: java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>)

    // Validation is also an Applicative Functor, if the type of the error side of the validation is a Semigroup.
    // A number of computations are tried. If the all success, a function can combine them into a Success. If any
    // of them fails, the individual errors are accumulated.

    // Combining validation errors using the String Semigroup.
    <span class="keyword">val</span> <a title="scalaz.Validation[java.lang.String,Int]" id="206660">k3</a> = (<a href="../MA.scala.html#24667" title="(b: scalaz.Validation[java.lang.String,Int])(z: (Int, Int) =&gt; Int)(implicit t: scalaz.Functor[[B]scalaz.Validation[java.lang.String,B]],implicit a: scalaz.Apply[[B]scalaz.Validation[java.lang.String,B]])scalaz.Validation[java.lang.String,Int]">f</a> &lt;**&gt; <a href="#206656" title="scalaz.Validation[java.lang.String,Int]">f</a>)<a href="../Functor.scala.html#40409" title="scalaz.Functor[[B]scalaz.Validation[java.lang.String,B]]">{</a> <a href="#211257" title="(x$1: Int)Int">_</a> + <a href="#211258" title="Int">_</a> }
    <a href="#206660" title="scalaz.Validation[java.lang.String,Int]">k3</a>.<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[java.lang.String,Int]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Option[java.lang.String])(implicit e: scalaz.Equal[Option[java.lang.String]],implicit s: scalaz.Show[Option[java.lang.String]],implicit ev: &lt;:&lt;[Option[java.lang.String],Option[java.lang.String]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[java.lang.String])scalaz.Equal[Option[java.lang.String]]">assert_≟</a> <a href="../OptionW.scala.html#24191" title="(a: java.lang.String)Option[java.lang.String]">some</a>(<span title="java.lang.String(&quot;errorerror&quot;)" class="string">&quot;errorerror&quot;</span>)

    // The String semigroup wasn't particularly useful. A better candidate is NonEmptyList. Below, we use
    // Validation#liftFailNel to convert from Validation[String, Int] to Validation[NonEmptyList[String], Int].
    // The type alias ValidationNEL makes this more concise.
    <span class="keyword">val</span> <a title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]" id="206661">fNel</a>: <a href="../Validation.scala.html#13219" title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">ValidationNEL</a>[String, Int] = <a href="#206656" title="scalaz.Validation[java.lang.String,Int]">f</a>.<a href="../Validation.scala.html#25137" title="=&gt; scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]">liftFailNel</a>

    // Use the NonEmptyList semigroup to accumulate errors using the Validation Applicative Functor.
    <span class="keyword">val</span> <a title="scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]" id="206662">k4</a> = (<a href="../MA.scala.html#24667" title="(b: scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int])(z: (Int, Int) =&gt; Int)(implicit t: scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]],implicit a: scalaz.Apply[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]])scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]">fNel</a> &lt;**&gt; <a href="#206661" title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">fNel</a>)<a href="../Functor.scala.html#40409" title="scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]]">{</a> <a href="#211883" title="(x$1: Int)Int">_</a> + <a href="#211884" title="Int">_</a> }
    <a href="#206662" title="scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]">k4</a>.<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[scalaz.NonEmptyList[java.lang.String],Int]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Option[scalaz.NonEmptyList[java.lang.String]])(implicit e: scalaz.Equal[Option[scalaz.NonEmptyList[java.lang.String]]],implicit s: scalaz.Show[Option[scalaz.NonEmptyList[java.lang.String]]],implicit ev: &lt;:&lt;[Option[scalaz.NonEmptyList[java.lang.String]],Option[scalaz.NonEmptyList[java.lang.String]]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[scalaz.NonEmptyList[java.lang.String]])scalaz.Equal[Option[scalaz.NonEmptyList[java.lang.String]]]">assert_≟</a> <a href="../OptionW.scala.html#24191" title="(a: scalaz.NonEmptyList[java.lang.String])Option[scalaz.NonEmptyList[java.lang.String]]">some</a>(<a href="../NonEmptyList.scala.html#24184" title="(h: java.lang.String,t: java.lang.String*)scalaz.NonEmptyList[java.lang.String]">nel1</a>(<span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>, <span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>))

    <a href="#23360" title="=&gt; Unit">person</a>
    <a href="#23361" title="=&gt; Unit">parseNumbers</a>
  }

  /**
   * See Automated Validation with Applicatives and Semigroups &lt;a href=&quot;http://blog.tmorris.net/automated-validation-with-applicatives-and-semigroups-for-sanjiv/&quot;&gt;Part 1&lt;/a&gt;
   * and &lt;a href=&quot;http://blog.tmorris.net/automated-validation-with-applicatives-and-semigroups-part-2-java/&quot;&gt;Part 2&lt;/a&gt;
   */
  <span class="keyword">def</span> <a title="=&gt; Unit" id="23360">person</a> {
    <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Name extends java.lang.Object with scalaz.NewType[java.lang.String]" id="212496">Name</a> <span class="keyword">extends</span> <a href="../NewType.scala.html#11590" title="scalaz.NewType[java.lang.String]">NewType</a>[String]
    <span class="keyword">object</span> <a title="object Name" id="212497">Name</a> <span title="ScalaObject">{</span>
      <span class="keyword">def</span> <a title="(s: java.lang.String)scalaz.Validation[java.lang.String,Name]" id="212508">apply</a>(<a title="java.lang.String" id="212511">s</a>: <span title="java.lang.String">String</span>): <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,Name]">Validation</a>[String, Name] = <span title="scalaz.Validation[java.lang.String,Name]" class="keyword">if</span> (<a href="#212511" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<a title="=&gt; Option[Char]" id="27074">headOption</a>.<a title="(p: (Char) =&gt; Boolean)Boolean" id="27487">exists</a>(<a href="#212533" title="implicit scala.Predef.charWrapper : (c: Char)scala.runtime.RichChar" id="8219">_</a>.<a title="=&gt; Boolean" id="96557">isUpper</a>))
        (<a href="../Identity.scala.html#24056" title="(x: java.lang.Object with Name{})scalaz.Identity[java.lang.Object with Name{}]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Name" id="212550">Name</a> {<span class="keyword">val</span> <a title="java.lang.String" id="212552">value</a> = <a href="#212511" title="java.lang.String">s</a>}).<a href="../Identity.scala.html#27805" title="scalaz.Validation[Nothing,java.lang.Object with Name{}]">success</a>
      <span class="keyword">else</span>
        <a href="../Identity.scala.html#24056" title="(x: java.lang.String)scalaz.Identity[java.lang.String]" class="string">&quot;Name must start with a capital letter&quot;</a>.<a href="../Identity.scala.html#27811" title="scalaz.Validation[java.lang.String,Nothing]">fail</a>
    }

    <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Age extends java.lang.Object with scalaz.NewType[Int]" id="212499">Age</a> <span class="keyword">extends</span> <a href="../NewType.scala.html#11590" title="scalaz.NewType[Int]">NewType</a>[Int]
    <span class="keyword">object</span> <a title="object Age" id="212500">Age</a> <span title="ScalaObject">{</span>
      <span class="keyword">def</span> <a title="(a: Int)scalaz.Validation[java.lang.String,Age]" id="212612">apply</a>(<a title="Int" id="212615">a</a>: <span title="Int">Int</span>): <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,Age]">Validation</a>[String, Age] = <span title="scalaz.Validation[java.lang.String,Age]" class="keyword">if</span> (<a title="(end: Int)scala.collection.immutable.Range.Inclusive with scala.collection.immutable.Range.ByOne" id="8217" class="int">0</a> <a title="(x: Int)Boolean" id="117235">to</a> <span title="Int(130)" class="int">130</span> contains <a href="#212615" title="Int">a</a>)
        (<a href="../Identity.scala.html#24056" title="(x: java.lang.Object with Age{})scalaz.Identity[java.lang.Object with Age{}]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Age" id="212650">Age</a> {<span class="keyword">val</span> <a title="Int" id="212652">value</a> = <a href="#212615" title="Int">a</a>}).<a href="../Identity.scala.html#27805" title="scalaz.Validation[Nothing,java.lang.Object with Age{}]">success</a>
      <span class="keyword">else</span>
        <a href="../Identity.scala.html#24056" title="(x: java.lang.String)scalaz.Identity[java.lang.String]" class="string">&quot;Age must be in range&quot;</a>.<a href="../Identity.scala.html#27811" title="scalaz.Validation[java.lang.String,Nothing]">fail</a>
    }

    case <span class="keyword">class</span> <a title="class Person extends java.lang.Object with ScalaObject with Product" id="212744">Person</a><span title="ScalaObject">(</span><a title="=&gt; Name" id="212903">name</a>: <a href="#212496" title="Name">Name</a>, <a title="=&gt; Age" id="212904">age</a>: <a href="#212499" title="Age">Age</a>)
    <span class="keyword">def</span> <a title="(name: java.lang.String,age: Int)scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Person]" id="212505">mkPerson</a>(<a title="java.lang.String" id="212799">name</a>: <span title="java.lang.String">String</span>, <a title="Int" id="212800">age</a>: <span title="Int">Int</span>) = (<a href="#212508" title="(s: java.lang.String)scalaz.Validation[java.lang.String,Name]">Name</a>(<a href="#212799" title="java.lang.String">name</a>).<a href="../MA.scala.html#24658" title="(b: scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Age])scalaz.ApplicativeBuilder[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B],Name,Age]">liftFailNel</a> <a href="../ApplicativeBuilder.scala.html#47664" title="(f: (Name, Age) =&gt; Person)(implicit t: scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]],implicit ap: scalaz.Apply[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]])scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Person]">⊛</a> <a href="#212612" title="(a: Int)scalaz.Validation[java.lang.String,Age]">Age</a>(<a href="#212800" title="Int">age</a>).<a href="../Validation.scala.html#25137" title="=&gt; scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Age]">liftFailNel</a>)<a href="../Functor.scala.html#40409" title="scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]]">{</a> (<a title="Name" id="212901">n</a>, <a title="Age" id="212902">a</a>) =&gt; <a href="#212744" title="(name: Name,age: Age)Person">Person</a>(<a href="#212901" title="Name">n</a>, <a href="#212902" title="Age">a</a>)}

    <a href="#212505" title="(name: java.lang.String,age: Int)scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Person]">mkPerson</a>(<span title="java.lang.String(&quot;Bob&quot;)" class="string">&quot;Bob&quot;</span>, <span title="Int(31)" class="int">31</span>).<a href="../Identity.scala.html#27747" title="(b: Boolean)(implicit e: scalaz.Equal[Boolean],implicit s: scalaz.Show[Boolean],implicit ev: &lt;:&lt;[Boolean,Boolean])Unit">isSuccess</a> <a href="../Equal.scala.html#38139" title="=&gt; scalaz.Equal[Boolean]">assert_≟</a> <span title="Boolean(true)" class="keyword">true</span>
    <a href="#212505" title="(name: java.lang.String,age: Int)scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Person]">mkPerson</a>(<span title="java.lang.String(&quot;bob&quot;)" class="string">&quot;bob&quot;</span>, <span title="Int(131)" class="int">131</span>).<a href="../Validation.scala.html#25131" title="=&gt; scalaz.FailProjection[scalaz.NonEmptyList[java.lang.String],Person]">fail</a>.<a href="../Identity.scala.html#27747" title="(b: Option[scalaz.NonEmptyList[java.lang.String]])(implicit e: scalaz.Equal[Option[scalaz.NonEmptyList[java.lang.String]]],implicit s: scalaz.Show[Option[scalaz.NonEmptyList[java.lang.String]]],implicit ev: &lt;:&lt;[Option[scalaz.NonEmptyList[java.lang.String]],Option[scalaz.NonEmptyList[java.lang.String]]])Unit">toOption</a> <a href="../Equal.scala.html#38228" title="(implicit evidence$33: scalaz.Equal[scalaz.NonEmptyList[java.lang.String]])scalaz.Equal[Option[scalaz.NonEmptyList[java.lang.String]]]">assert_≟</a> <a href="../OptionW.scala.html#24191" title="(a: scalaz.NonEmptyList[java.lang.String])Option[scalaz.NonEmptyList[java.lang.String]]">some</a>(<a href="../NonEmptyList.scala.html#24184" title="(h: java.lang.String,t: java.lang.String*)scalaz.NonEmptyList[java.lang.String]">nel1</a>(<span title="java.lang.String(&quot;Name must start with a capital letter&quot;)" class="string">&quot;Name must start with a capital letter&quot;</span>, <span title="java.lang.String(&quot;Age must be in range&quot;)" class="string">&quot;Age must be in range&quot;</span>))
  }

  <span class="keyword">def</span> <a title="=&gt; Unit" id="23361">parseNumbers</a> {
    <span class="keyword">def</span> <a title="[A](as: Traversable[A])scalaz.Validation[java.lang.String,A]" id="213680">only</a>[<a title="&gt;: Nothing &lt;: Any" id="213682">A</a>](<a title="Traversable[A]" id="213689">as</a>: <span title="Traversable[A]">Traversable</span>[A]): <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,A]">Validation</a>[String, A] = {
      <span class="keyword">val</span> <a title="Seq[A]" id="213691">firstTwo</a> = <a href="#213689" title="Traversable[A]">as</a>.<a title="(n: Int)Traversable[A]" id="27079">take</a>(<span title="Int(2)" class="int">2</span>).<a title="=&gt; Seq[A]" id="27212">toSeq</a>
      <a href="../Validation.scala.html#24281" title="(e: Either[java.lang.String,A])scalaz.Validation[java.lang.String,A]">validation</a>(<a href="../BooleanW.scala.html#28088" title="(a: =&gt; java.lang.String)java.lang.Object with scalaz.BooleanW#ConditionalEither[java.lang.String]">(</a><a href="#213691" title="Seq[A]">firstTwo</a>.<a title="(x$1: Int)Boolean" id="26747">size</a> <a href="../BooleanW.scala.html#23902" title="implicit scalaz.Booleans.BooleanTo : (b: Boolean)scalaz.BooleanW">!=</a> <span title="Int(1)" class="int">1</span>) <a href="../BooleanW.scala.html#169983" title="(b: =&gt; A)Either[java.lang.String,A]">either</a> <span title="java.lang.String(&quot;required exactly one element&quot;)" class="string">&quot;required exactly one element&quot;</span> or <a href="#213691" title="Seq[A]">firstTwo</a>.<a title="=&gt; A" id="26943">head</a>)
    }

    <span class="keyword">def</span> <a title="[A](as: Traversable[A])scalaz.Validation[java.lang.String,Unit]" id="213683">empty</a>[<a title="&gt;: Nothing &lt;: Any" id="213685">A</a>](<a title="Traversable[A]" id="213738">as</a>: <span title="Traversable[A]">Traversable</span>[A]): <a href="../Validation.scala.html#13219" title="scalaz.Validation[java.lang.String,Unit]">Validation</a>[String, Unit] =
      <a href="../Validation.scala.html#24281" title="(e: Either[java.lang.String,Unit])scalaz.Validation[java.lang.String,Unit]">validation</a>(<a href="../BooleanW.scala.html#28088" title="(a: =&gt; java.lang.String)java.lang.Object with scalaz.BooleanW#ConditionalEither[java.lang.String]" id="3652">!</a><a href="#213738" title="Traversable[A]">as</a>.<a title="=&gt; Boolean" id="27023">isEmpty</a> <a href="../BooleanW.scala.html#169983" title="(b: =&gt; Unit)Either[java.lang.String,Unit]">either</a> <span title="java.lang.String(&quot;expected an empty collection&quot;)" class="string">&quot;expected an empty collection&quot;</span> <span title="Unit">or</span> ())

    // Combine two validations with the Validation Applicative Functor, using only the success
    // values from the first.
    <span class="keyword">val</span> <a title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]" id="213686">x</a>: <a href="../Validation.scala.html#13219" title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">ValidationNEL</a>[String, Int] = <a href="#213680" title="(as: Traversable[Int])scalaz.Validation[java.lang.String,Int]">only</a>(<a title="(elems: Int*)Seq[Int]" id="22004">Seq</a>(<span title="Int(1)" class="int">1</span>)).<a href="../MA.scala.html#24702" title="(b: scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Unit])(implicit t: scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]],implicit a: scalaz.Apply[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]])scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]">liftFailNel</a> <a href="../Functor.scala.html#40409" title="scalaz.Functor[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]]">&lt;*</a> <a href="#213683" title="(as: Traversable[Nothing])scalaz.Validation[java.lang.String,Unit]">empty</a>(<span title="object Seq">Seq</span>.<a title="Seq[Nothing]" id="22002">empty</a>).<a href="../Validation.scala.html#25137" title="=&gt; scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Unit]">liftFailNel</a>
    <a href="../Identity.scala.html#27747" title="(b: scalaz.Scalaz.ValidationNEL[java.lang.String,Int])(implicit e: scalaz.Equal[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]],implicit s: scalaz.Show[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]],implicit ev: &lt;:&lt;[scalaz.Scalaz.ValidationNEL[java.lang.String,Int],scalaz.Scalaz.ValidationNEL[java.lang.String,Int]])Unit">x</a> <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[scalaz.NonEmptyList[java.lang.String]],implicit evidence$41: scalaz.Equal[Int])scalaz.Equal[scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]]">assert_≟</a> <a href="../Identity.scala.html#24056" title="(x: Int)scalaz.Identity[Int]" class="int">1</a>.<a href="../Identity.scala.html#27808" title="[X]scalaz.Scalaz.ValidationNEL[X,Int]">successNel</a><span title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">[</span><span title="java.lang.String">String</span>]

    <span class="keyword">val</span> <a title="String" id="213687">badInput</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;42
            |aasf
            |314
            |xxx&quot;&quot;&quot;</span>.<span title="=&gt; String">stripMargin</span>
    <a href="#23362" title="(text: java.lang.String)scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]">parse</a><a href="../Identity.scala.html#27747" title="(b: scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]])(implicit e: scalaz.Equal[scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]],implicit s: scalaz.Show[scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]],implicit ev: &lt;:&lt;[scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]],scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]])Unit">(</a><a href="#213687" title="String">badInput</a>) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[scalaz.NonEmptyList[java.lang.String]],implicit evidence$41: scalaz.Equal[List[Int]])scalaz.Equal[scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]]]">assert_≟</a> <a href="../NonEmptyList.scala.html#24184" title="(h: java.lang.String,t: java.lang.String*)scalaz.NonEmptyList[java.lang.String]">nel1</a><a href="../Identity.scala.html#24056" title="(x: scalaz.NonEmptyList[java.lang.String])scalaz.Identity[scalaz.NonEmptyList[java.lang.String]]">(</a><span title="java.lang.String(&quot;java.lang.NumberFormatException: For input string: &quot;aasf&quot;&quot;)" class="string">&quot;java.lang.NumberFormatException: For input string: \&quot;aasf\&quot;&quot;</span>,
      <span title="java.lang.String(&quot;java.lang.NumberFormatException: For input string: &quot;xxx&quot;&quot;)" class="string">&quot;java.lang.NumberFormatException: For input string: \&quot;xxx\&quot;&quot;</span>).<a href="../Identity.scala.html#27811" title="[X]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],X]">fail</a><span title="scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]]">[</span><span title="List[Int]">List</span>[Int]]
    <span class="keyword">val</span> <a title="String" id="213688">validInput</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;42
            |314&quot;&quot;&quot;</span>.<span title="=&gt; String">stripMargin</span>
    <a href="#23362" title="(text: java.lang.String)scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]">parse</a><a href="../Identity.scala.html#27747" title="(b: scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]])(implicit e: scalaz.Equal[scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]],implicit s: scalaz.Show[scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]],implicit ev: &lt;:&lt;[scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]],scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]])Unit">(</a><a href="#213688" title="String">validInput</a>) <a href="../Equal.scala.html#38252" title="(implicit evidence$40: scalaz.Equal[scalaz.NonEmptyList[java.lang.String]],implicit evidence$41: scalaz.Equal[List[Int]])scalaz.Equal[scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]]]">assert_≟</a> <a title="(xs: Int*)List[Int]" id="21635">List</a><a href="../Identity.scala.html#24056" title="(x: List[Int])scalaz.Identity[List[Int]]">(</a><span title="Int(42)" class="int">42</span>, <span title="Int(314)" class="int">314</span>).<a href="../Identity.scala.html#27808" title="[X]scalaz.Scalaz.ValidationNEL[X,List[Int]]">successNel</a><span title="scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]">[</span><span title="java.lang.String">String</span>]
  }

  /**
   * Parse text containing a list of integers, each on a separate line.
   */
  <span class="keyword">def</span> <a title="(text: java.lang.String)scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]" id="23362">parse</a>(<a title="java.lang.String" id="214660">text</a>: <span title="java.lang.String">String</span>): <a href="../Validation.scala.html#13219" title="scalaz.Scalaz.ValidationNEL[java.lang.String,List[Int]]">ValidationNEL</a>[String, List[Int]] = {
    <span class="keyword">val</span> <a title="List[String]" id="215995">lines</a> = <a href="#214660" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">text</a>.<a title="=&gt; Iterator[String]" id="28955">lines</a>.<a title="=&gt; List[String]" id="27210">toList</a>
    <span class="keyword">def</span> <a title="(s: java.lang.String)scalaz.Scalaz.ValidationNEL[java.lang.String,Int]" id="215996">parseInt</a>(<a title="java.lang.String" id="216016">s</a>: <span title="java.lang.String">String</span>): <a href="../Validation.scala.html#13219" title="scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">ValidationNEL</a>[String, Int] = {
      <span class="keyword">val</span> <a title="scalaz.FailProjection[java.lang.String,Int]" id="216017">projection</a>: <a href="../Validation.scala.html#9808" title="scalaz.FailProjection[java.lang.String,Int]">FailProjection</a>[String, Int] = <a href="../StringW.scala.html#24252" title="implicit scalaz.Strings.StringTo : (ss: String)scalaz.StringW">s</a>.<a href="../StringW.scala.html#37092" title="=&gt; scalaz.Validation[NumberFormatException,Int]">parseInt</a>.<a href="../MA.scala.html#24637" title="(f: (NumberFormatException) =&gt; java.lang.String)(implicit t: scalaz.Functor[[B]scalaz.FailProjection[B,Int]])scalaz.FailProjection[java.lang.String,Int]">fail</a> <a href="../Functor.scala.html#40412" title="scalaz.Functor[[B]scalaz.FailProjection[B,Int]]">∘</a> (<a href="#216146" title="NumberFormatException">_</a>.<a title="()java.lang.String" id="23477">toString</a>)
      // todo this can't be inferred if Pure is invariant. Why not? 
      <a href="#216017" title="scalaz.FailProjection[java.lang.String,Int]">projection</a>.<a href="../Validation.scala.html#25096" title="[M[_], EE &gt;: java.lang.String](implicit evidence$4: scalaz.Pure[M])scalaz.Validation[M[EE],Int]">lift</a><a href="../Pure.scala.html#51227" title="(implicit evidence$4: scalaz.Pure[scalaz.NonEmptyList])scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]">[</a><a href="../NonEmptyList.scala.html#11635" title="scalaz.NonEmptyList">NonEmptyList</a>, <span title="java.lang.String">String</span>]
    }
    <span class="keyword">val</span> <a title="List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]" id="215997">listVals</a>: <span title="List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]">List</span>[ValidationNEL[String, Int]] = <a href="#215995" title="List[String]">lines</a>.<a title="(f: (String) =&gt; scalaz.Scalaz.ValidationNEL[java.lang.String,Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scalaz.Scalaz.ValidationNEL[java.lang.String,Int],List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]])List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]" id="27031">map</a><a title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scalaz.Scalaz.ValidationNEL[java.lang.String,Int],List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]]" id="21629">(</a><a href="#215996" title="(s: java.lang.String)scalaz.Scalaz.ValidationNEL[java.lang.String,Int]">parseInt</a>(<a href="#216376" title="String">_</a>))
    // Sequence the List using the Validation Applicative Functor.
    <a href="../Scalaz.scala.html#23812" title="(l: List[scalaz.Scalaz.ValidationNEL[java.lang.String,Int]])scalaz.MA[List,scalaz.Scalaz.ValidationNEL[java.lang.String,Int]]">listVals</a>.<a href="../MA.scala.html#24788" title="[N[_], B](implicit a: &lt;:&lt;[scalaz.Scalaz.ValidationNEL[java.lang.String,Int],N[B]],implicit t: scalaz.Traverse[List],implicit n: scalaz.Applicative[N])N[List[B]]">sequence</a><a href="../Traverse.scala.html#50733" title="(implicit a: &lt;:&lt;[scalaz.Scalaz.ValidationNEL[java.lang.String,Int],scalaz.Validation[scalaz.NonEmptyList[java.lang.String],Int]],implicit t: scalaz.Traverse[List],implicit n: scalaz.Applicative[[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]])scalaz.Validation[scalaz.NonEmptyList[java.lang.String],List[Int]]">[</a>PartialApply1Of2[ValidationNEL, String]#<a href="../Validation.scala.html#13219" title="[B]scalaz.Validation[scalaz.NonEmptyList[java.lang.String],B]">Apply</a>, <span title="Int">Int</span>]
  }
}
        </pre>
    </body>
</html>