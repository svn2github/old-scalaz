// Copyright Tony Morris 2008
// This software is released under an open source BSD licence.

// $LastChangedRevision$
// $LastChangedDate$


package scalaz.database

import java.sql.Statement.{ RETURN_GENERATED_KEYS, NO_GENERATED_KEYS }

/**
 *
 * @author <a href="mailto:code@tmorris.net">Tony Morris</a>
 * @version $LastChangedRevision$<br>
 *          $LastChangedDate$<br>
 *          $LastChangedBy$
 */
sealed trait KeyGeneration {
  def asInt: Int
}
/**
 *
 * @author <a href="mailto:code@tmorris.net">Tony Morris</a>
 * @version $LastChangedRevision$<br>
 *          $LastChangedDate$<br>
 *          $LastChangedBy$
 */
final case object GeneratedKeys extends KeyGeneration {
  def asInt = RETURN_GENERATED_KEYS
}
/**
 *
 * @author <a href="mailto:code@tmorris.net">Tony Morris</a>
 * @version $LastChangedRevision$<br>
 *          $LastChangedDate$<br>
 *          $LastChangedBy$
 */
final case object NoGeneratedKeys extends KeyGeneration {
  def asInt = NO_GENERATED_KEYS
}

/**
 *
 * @author <a href="mailto:code@tmorris.net">Tony Morris</a>
 * @version $LastChangedRevision$<br>
 *          $LastChangedDate$<br>
 *          $LastChangedBy$
 */
object KeyGeneration {
  def keyGenerations = List(GeneratedKeys, NoGeneratedKeys)

  def fromInt(n: Int) = keyGenerations find (_.asInt == n)
}
